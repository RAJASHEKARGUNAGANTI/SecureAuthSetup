# SECURE AUTHENTICATION CUSTOM WEBPACK MERN Application Setup

A starter code for secure authentication setup 

(Follow the instructions below for proper setup)

This project is a full-stack MERN (MongoDB, Express, React, Node.js) application. Below are the setup instructions, environment variables, and detailed explanations of various concepts used in the application.

Custom Webpack Configuration
This application uses a custom Webpack configuration for optimizing the frontend build process. Webpack enables the bundling of JavaScript files, as well as handling stylesheets and images. Key features include:

Entry and Output: Specifies the starting point of the application and the output bundle location.
Loaders: Transforms files into modules (e.g., Babel for ES6+ syntax).
Plugins: Enhances Webpack's functionality (e.g., HtmlWebpackPlugin for HTML file generation).
This configuration can be found in webpack.config.js.

JWT Token Management
JWT (JSON Web Tokens) are used for secure user authentication in the application. A JWT is composed of three parts:

Header: Contains the type of token and the signing algorithm.
Payload: Holds the claims or user information.
Signature: Verifies that the sender of the JWT is who it claims to be.
Access Tokens and Refresh Tokens
Access Tokens: Short-lived tokens used for authorizing API requests. Typically, they expire after a few minutes (e.g., 15 minutes).

Refresh Tokens: Long-lived tokens used to obtain new access tokens without requiring the user to log in again. They have a longer lifespan and are securely stored to minimize risks.

Cookie Storage
This application uses HTTP-only cookies for storing JWTs instead of local storage or session storage. This practice enhances security by mitigating risks associated with XSS (Cross-Site Scripting) attacks. By using cookies:

Cookies are not accessible via JavaScript, making it harder for malicious scripts to steal tokens.
Secure and HttpOnly flags can be set on cookies to further protect them from unauthorized access.
By following these practices, the application ensures better security for user authentication and session management.

---

## Prerequisites

Make sure you have the following installed on your system:

- [Node.js](https://nodejs.org/) (v14.x or later)
- [npm](https://www.npmjs.com/get-npm) (v6.x or later)
- [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) for cloud-based database
- [Google Developer Console](https://console.developers.google.com/) for OAuth configuration

---

## Backend Setup

### 1. Environment Variables

In the root directory of the backend, create a `.env` file to store the following environment variables:

- **MONGO_URI**: This is the MongoDB Atlas connection string, which allows your backend to connect to a MongoDB database.
  - **Example**: 
    ```
    MONGO_URI=mongodb+srv://<username>:<password>@cluster0.mongodb.net/myDatabase?retryWrites=true&w=majority
    ```

- **JWT_SECRET**: This secret string is used to sign JWT (JSON Web Tokens) for user authentication.
  - **Example**: 
    ```
    JWT_SECRET=your_jwt_secret_key
    ```

- **REFRESH_TOKEN_SECRET**: This secret string is used to sign refresh tokens for managing user sessions.
  - **Example**: 
    ```
    REFRESH_TOKEN_SECRET=your_refresh_token_secret
    ```

- **GOOGLE_CLIENT_ID**: The OAuth Client ID generated by the Google Developer Console.
  - **Example**: 
    ```
    GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
    ```

- **GOOGLE_CLIENT_SECRET**: The OAuth Client Secret generated by Google Developer Console.
  - **Example**: 
    ```
    GOOGLE_CLIENT_SECRET=your_google_client_secret
    ```

- **GOOGLE_REDIRECT_URI**: The URL to which Google redirects after authentication.
  - **Example**: 
    ```
    GOOGLE_REDIRECT_URI=http://localhost:5000/auth/google/callback
    ```

- **FRONTEND_URL**: The URL of your frontend application.
  - **Example**: 
    ```
    FRONTEND_URL=http://localhost:3000
    ```

- **COOKIE_KEY**: A secret key used to sign and verify cookies.
  - **Example**: 
    ```
    COOKIE_KEY=your_cookie_signing_key
    ```

- **NODE_ENV**: This sets the mode in which the application is running.
  - **Example**: 
    ```
    NODE_ENV=development
    ```

---

###  Code Setup Instructions
```bash
   git clone https://github.com/your-repo.git
   ```


### 2. Backend Setup Instructions

1. **Clone the Repository**:
   ```bash
   cd backend

   npm install / npm i
   
   npm start
   ```

### 3. Frontend Setup Instructions

1. **Clone the Repository**:
   ```bash
   cd frontend

   npm install / npm i
   
   npm start
   ```
   in the app.js file mention client id same as backend 
